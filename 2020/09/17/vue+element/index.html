<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="google-site-verification" content="TZE0rZyIqLl10trYu3BWBWa1Vmz6HFwhb2OcNEK4u-s" />
     <link rel="shortcut icon" href= /img/favicon.ico >
    <title>
        一个柯子
    </title>
    <meta name="description" content= 嘿，我是柯子～这是我的个人博客，用于记录我的学习经历。欢迎访问！ >
    <meta name="keywords" content= 前端,学习,柯子,KEZI >
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>
<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-home
 replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            vue+element
        </p>
        <hr>
    </div>
    <div class="post-content">
        <h2 id="vue-element-总结-（vue-cli-2）"><a href="#vue-element-总结-（vue-cli-2）" class="headerlink" title="vue + element 总结 （vue-cli 2）"></a>vue + element 总结 （vue-cli 2）</h2><h3 id="vue-数据插槽"><a href="#vue-数据插槽" class="headerlink" title="vue 数据插槽"></a>vue 数据插槽</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">### 默认插槽</span><br><span class="line"><span class="comment">// 当声明一个组件 child-component</span></span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;child-component&gt;&lt;<span class="regexp">/child-component&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(<span class="string">'child-component'</span>,&#123;</span><br><span class="line">        template:<span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div&gt;Hello,World!&lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el:<span class="string">'#app'</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"> /</span><span class="regexp">/ 如果想在&lt;child-component&gt;&lt;/</span>child-component&gt;中自定义内容 </span><br><span class="line">    <span class="comment">// 比如 插值 字符串 组件  需要插槽 不然没有效果如下</span></span><br><span class="line">   </span><br><span class="line"> Vue.component(<span class="string">'child-component'</span>,&#123;</span><br><span class="line">        template:<span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">            Hello,World!</span></span><br><span class="line"><span class="string">			// 加上这一句才起作用</span></span><br><span class="line"><span class="string">            &lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有插槽的情况下在组件标签内些一些内容是不起任何作用的，当我在组件中声明了slot元素后，在组件元素内写的内容</span></span><br><span class="line"><span class="comment">// 就会跑到它这里了</span></span><br><span class="line"></span><br><span class="line">### 具名插槽</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;child-component&gt;</span><br><span class="line">    <span class="comment">// slot 对应 solt标签的 name值 一一对应实现</span></span><br><span class="line">        &lt;template slot=<span class="string">"girl"</span>&gt;</span><br><span class="line">            漂亮、美丽、购物、逛街</span><br><span class="line">        &lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp">        &lt;template slot="boy"&gt;</span></span><br><span class="line"><span class="regexp">            帅气、才实</span></span><br><span class="line"><span class="regexp">        &lt;/</span>template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            我是一类人，</span><br><span class="line">            我是默认的插槽</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>child-component&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    Vue.component('child-component',&#123;</span></span><br><span class="line"><span class="regexp">        template:`</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;h4&gt;这个世界不仅有男人和女人&lt;/</span>h4&gt;</span><br><span class="line">			<span class="comment">// name属性为名字</span></span><br><span class="line">            &lt;slot name=<span class="string">"girl"</span>&gt;&lt;<span class="regexp">/slot&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">            &lt;div style="height:1px;background-color:red;"&gt;&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;slot name=<span class="string">"boy"</span>&gt;&lt;<span class="regexp">/slot&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">            &lt;div style="height:1px;background-color:red;"&gt;&lt;/</span>div&gt;</span><br><span class="line">			<span class="comment">// 一个不带 name 的 &lt;slot&gt; 出口会带有隐含的名字“default”。</span></span><br><span class="line">            &lt;slot&gt;&lt;<span class="regexp">/slot&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    let vm = new Vue(&#123;</span></span><br><span class="line"><span class="string">        el:'#app',</span></span><br><span class="line"><span class="string">        data:&#123;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="引入文件两种方法-es6"><a href="#引入文件两种方法-es6" class="headerlink" title="引入文件两种方法 es6"></a>引入文件两种方法 es6</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//导出方式 </span></span><br><span class="line"><span class="comment">// export后必须跟语句, 何为语句, 如声明, for, if 等都是语句, export 不能导出匿名函数, 也不能导出某个已经声明的变量 可以出现多次</span></span><br><span class="line">例如</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;   <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">export</span> bar;                         <span class="comment">// 非法</span></span><br><span class="line"><span class="keyword">export</span> <span class="number">1</span>;                           <span class="comment">// 非法</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;&#125;;          <span class="comment">// 合法, 后跟的是声明语句</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo &#125;;                     <span class="comment">// 合法, 后面跟的&#123;&#125;理解为语句, 就像if后面的&#123;&#125;一样</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo <span class="keyword">as</span> bar &#125;;              <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="attr">foo</span>: foo &#125;;                <span class="comment">// 非法, 后面的&#123;&#125;被解析成对象</span></span><br><span class="line"><span class="comment">// ============================================================================================</span></span><br><span class="line"><span class="comment">// 导出方式</span></span><br><span class="line"><span class="comment">// export default 在整个模块中只能出现一次, 后只能具体的值, 何为具体的值, 如1, 2, 3, 再比如一个函数声明(非表达式), 或者是一个类声明(与函数声明一个意思), 或者匿名函数, 只要是能用变量接受的都可以</span></span><br><span class="line">例如:</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="number">1</span>;                   <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;;   <span class="comment">// 合法, 因为function foo() &#123;&#125; 能被变量接受, 如 var bar = function foo() &#123;&#125;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">const</span> bar = <span class="number">1</span>;       <span class="comment">// 非法, 因为var a = const bar = 1 是不合法的</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; foo &#125;;             <span class="comment">// 合法, &#123;&#125; 被理解为一个对象</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; <span class="attr">foo</span>: foo &#125;;        <span class="comment">// 合法, 同上</span></span><br></pre></td></tr></table></figure>

<h4 id="v-model后缀"><a href="#v-model后缀" class="headerlink" title="v-model后缀"></a>v-model后缀</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不设置.number的情况下即使输入的是数字也会被当成字符串处理</span></span><br><span class="line">v-model.number <span class="comment">// 只能输入数字 当input 输入无限大的值 值自动转换为 Infinity</span></span><br><span class="line">v-model.trim  <span class="comment">// 除去前后空格</span></span><br><span class="line">v-model.lazy  <span class="comment">// 当失去焦点时 数据才会响应改变</span></span><br></pre></td></tr></table></figure>



<h3 id="特殊问题"><a href="#特殊问题" class="headerlink" title="特殊问题"></a>特殊问题</h3><p>给el-input 绑定点击事件绑定不上</p>
<h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><p>VUE中直接在标签中写@click事件时，等号右边的函数会默认为是vm对象的一个方法，因此会在js中寻找_vm.alert方法，找不到会报以下错误<code>Property or method &quot;alert&quot; is not defined on the instance but referenced during render</code>，</p>
<h5 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 有时候，你可能想在某个组件的根元素上监听一个原生事件。可以使用 v-on 的修饰符 .native。例如：</span></span><br><span class="line"></span><br><span class="line">&lt;my-component v-on:click.native=<span class="string">"doTheThing"</span>&gt;&lt;<span class="regexp">/my-component&gt;</span></span><br><span class="line"><span class="regexp">用 .native来修饰</span></span><br></pre></td></tr></table></figure>

<h4 id="vue路由的history模式"><a href="#vue路由的history模式" class="headerlink" title="vue路由的history模式"></a>vue路由的history模式</h4><p>当发现刷新会错乱时候 要记得把 index.html引入文件放到 vue 文件 中去引入 解决问题 其他情况暂时未遇到</p>
<p>history 模式需要 后端配合设置 后端的 服务器配置 不然会 404  </p>
<h4 id="vue-自定义指令"><a href="#vue-自定义指令" class="headerlink" title="vue 自定义指令"></a>vue 自定义指令</h4><h4 id="axios全局配置"><a href="#axios全局配置" class="headerlink" title="axios全局配置"></a>axios全局配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span>;</span><br><span class="line"><span class="comment">// axios 配置</span></span><br><span class="line">axios.defaults.baseURL = process.env.API_ROOT;</span><br></pre></td></tr></table></figure>

<h4 id="delete请求的数据-axios-传数据"><a href="#delete请求的数据-axios-传数据" class="headerlink" title="delete请求的数据  axios 传数据"></a>delete请求的数据  axios 传数据</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> delete_rewar = <span class="function"><span class="params">params</span> =&gt;</span> &#123;  <span class="comment">// params&#123;id：1 &#125;</span></span><br><span class="line">  <span class="keyword">return</span> axios</span><br><span class="line">    .delete(<span class="string">`/rewardRule`</span>, &#123;</span><br><span class="line">      data: params</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> res);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="put请求的数据-axios-传数据"><a href="#put请求的数据-axios-传数据" class="headerlink" title="put请求的数据  axios 传数据"></a>put请求的数据  axios 传数据</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> alter_the_state = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">// params&#123;id:1&#125;</span></span><br><span class="line">  <span class="keyword">return</span> axios</span><br><span class="line">    .put(</span><br><span class="line">      <span class="string">`/agent`</span>,</span><br><span class="line">      qs.stringify(params)</span><br><span class="line">    )</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> res);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="get-post-清求例子"><a href="#get-post-清求例子" class="headerlink" title="get post 清求例子"></a>get post 清求例子</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GET请求的例子</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> GET = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">// params&#123;id:1&#125;</span></span><br><span class="line">  <span class="keyword">return</span> axios</span><br><span class="line">    .get(<span class="string">`/`</span>, &#123;</span><br><span class="line">      params: params</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> res);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// POST请求的例子</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> POST = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">// params&#123;id:1&#125;</span></span><br><span class="line">  <span class="keyword">return</span> axios.post(<span class="string">`/`</span>, params).then(<span class="function"><span class="params">res</span> =&gt;</span> res);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="表单验证问题"><a href="#表单验证问题" class="headerlink" title="表单验证问题"></a>表单验证问题</h4><p>表单验证规则</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form :model=<span class="string">"form"</span> ref=<span class="string">"ruleForm"</span> :rules=<span class="string">"rules"</span>&gt; </span><br><span class="line">	&lt;el-form-itme prop=<span class="string">"mydata"</span>&gt;</span><br><span class="line">    	</span><br><span class="line">    &lt;<span class="regexp">/el-form-item&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>el-form&gt;</span><br><span class="line">created（）&#123;</span><br><span class="line">	<span class="keyword">this</span>.$refs.ruleForm.resetFields(); <span class="comment">// 重置表单的方法</span></span><br><span class="line">&#125;</span><br><span class="line">data()&#123;</span><br><span class="line">    <span class="keyword">const</span> betweenInt = <span class="function">(<span class="params">rule,value,callback</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// rule 规则名称</span></span><br><span class="line">        <span class="comment">// value 每个验证的值</span></span><br><span class="line">        <span class="comment">// 验证不通过 返回</span></span><br><span class="line">        <span class="keyword">return</span> callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`未通过`</span>))</span><br><span class="line">        <span class="comment">// 验证通过 返回</span></span><br><span class="line">        <span class="keyword">return</span> callback()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        form:&#123; <span class="comment">// form :model</span></span><br><span class="line">            mydata:<span class="number">1</span>, <span class="comment">// 可以被验证 </span></span><br><span class="line">          </span><br><span class="line">            mydata:&#123;</span><br><span class="line">                a:<span class="number">1</span> <span class="comment">// 被验证需要 嵌套一层form 只有form和 item是父子关系才能被校验</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">          rules&#123;</span><br><span class="line">              mydata:[</span><br><span class="line">                  <span class="comment">// 规则</span></span><br><span class="line">                  &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">"请输入规则名称"</span>, <span class="attr">trigger</span>: <span class="string">"blur"</span> &#125;,</span><br><span class="line">                  <span class="comment">// 自定义规则</span></span><br><span class="line">                  &#123; <span class="attr">validator</span>: betweenInt, <span class="attr">trigger</span>: <span class="string">"blur"</span> &#125;</span><br><span class="line">              ]</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 一般点击提交触发</span></span><br><span class="line"><span class="comment">// 注意 嵌套时 因为两层 form 所以 form ref也有两个 因此 此时也要嵌套</span></span><br><span class="line"> ref .validate(<span class="keyword">async</span> valid =&gt; &#123;</span><br><span class="line">			<span class="keyword">if</span> (valid) &#123;</span><br><span class="line">			<span class="comment">//结果通过的</span></span><br><span class="line">			&#125;elsr&#123;</span><br><span class="line">            	</span><br><span class="line">            &#125;</span><br><span class="line"> 		&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实用验证规则</span></span><br><span class="line">数字范围内的 正整数</span><br><span class="line"><span class="comment">// 验证是[min, max]范围内的正整数</span></span><br><span class="line"><span class="keyword">const</span> betweenInt = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="function">(<span class="params">rule, v, cb</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isBetween = v &gt;= min &amp;&amp; v &lt;= max</span><br><span class="line">  <span class="keyword">const</span> isInt = <span class="regexp">/^[0-9]+$/</span>.test(v)</span><br><span class="line">  <span class="keyword">if</span> (isBetween &amp;&amp; isInt) <span class="keyword">return</span> cb()</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> cb(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`要求是在<span class="subst">$&#123;min&#125;</span>到<span class="subst">$&#123;max&#125;</span>的正整数 [<span class="subst">$&#123;min&#125;</span>, <span class="subst">$&#123;max&#125;</span>]`</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除单个itme的验证结果</span></span><br><span class="line">&lt;el-form-item label=<span class="string">"有效期"</span> :label-width=<span class="string">"formLabelWidth"</span> prop=<span class="string">"time"</span>  ref=<span class="string">"timeForm"</span>&gt; <span class="comment">// ref的方法</span></span><br><span class="line">    &lt;el-radio v-model=<span class="string">"radio1"</span> @change=<span class="string">"change"</span> label=<span class="string">"0"</span> border&gt;长期有效&lt;<span class="regexp">/el-radio&gt;</span></span><br><span class="line"><span class="regexp">	&lt;el-radio v-model="radio1" @change="change" label="1" border&gt;有效期&lt;/</span>el-radio&gt;</span><br><span class="line">	&lt;template v-<span class="keyword">if</span>=<span class="string">"radio1 - 0"</span>&gt;</span><br><span class="line">        &lt;el-date-picker</span><br><span class="line">        v-model=<span class="string">"form.time"</span></span><br><span class="line">        type=<span class="string">"datetimerange"</span></span><br><span class="line">        start-placeholder=<span class="string">"开始日期"</span></span><br><span class="line">        end-placeholder=<span class="string">"结束日期"</span></span><br><span class="line">        :<span class="keyword">default</span>-time=<span class="string">"['12:00:00']"</span></span><br><span class="line">        :disabled=<span class="string">"dis_time"</span></span><br><span class="line">        &gt;&lt;<span class="regexp">/el-date-picker&gt;</span></span><br><span class="line"><span class="regexp">	&lt;/</span>template&gt;</span><br><span class="line">&lt;<span class="regexp">/el-form-item&gt;</span></span><br><span class="line"><span class="regexp">this.$refs['timeForm'].clearValidate() /</span><span class="regexp">/清楚单个的验证</span></span><br></pre></td></tr></table></figure>

<h4 id="给el-select写验证-需要使用-change事件-但是会自动触发"><a href="#给el-select写验证-需要使用-change事件-但是会自动触发" class="headerlink" title="给el-select写验证 需要使用 change事件 但是会自动触发"></a>给el-select写验证 需要使用 change事件 但是会自动触发</h4><p>解决办法：</p>
<p>// 新增弹窗页面的话  可以给定默认值  可以不写验证 </p>
<h4 id="el-select-获取整条数据-查询整条数据的方法"><a href="#el-select-获取整条数据-查询整条数据的方法" class="headerlink" title="el-select 获取整条数据  查询整条数据的方法"></a>el-select 获取整条数据  查询整条数据的方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">get_bus_id(val) &#123; <span class="comment">// 当前数据的 val</span></span><br><span class="line">     <span class="comment">// 获取整条数据 遍历获取整条数据</span></span><br><span class="line">     <span class="keyword">const</span> obj = <span class="keyword">this</span>.bus_data.find(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> item.appId === val</span><br><span class="line">     &#125;)</span><br><span class="line">	<span class="comment">// obj ===&gt; 整条数据</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="el-table"><a href="#el-table" class="headerlink" title="el-table"></a>el-table</h4><h4 id="element-message"><a href="#element-message" class="headerlink" title="element -  message"></a>element -  message</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$message.closeAll() <span class="comment">// 关闭所有弹窗</span></span><br><span class="line"><span class="keyword">this</span>.$message(&#123; <span class="comment">// 因为会出现很多个 所以要先关闭再打开</span></span><br><span class="line">    type:warning,</span><br><span class="line">    message:<span class="string">"提示"</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 也可以统一处理</span></span><br><span class="line">暂无</span><br></pre></td></tr></table></figure>

<p>element - loading 全局配置 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Message, Loading &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>; <span class="comment">// 导入 loading 模块</span></span><br><span class="line"><span class="keyword">let</span> loading        <span class="comment">//定义loading变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startLoading</span>(<span class="params"></span>) </span>&#123;    <span class="comment">//使用Element loading-start 方法 启动loading</span></span><br><span class="line">    loading = Loading.service(&#123;</span><br><span class="line">        lock: <span class="literal">true</span>,</span><br><span class="line">        text: <span class="string">'加载中……'</span>,</span><br><span class="line">        background: <span class="string">'rgba(0, 0, 0, 0.7)'</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">endLoading</span>(<span class="params"></span>) </span>&#123;    <span class="comment">//使用Element loading-close 方法 关闭loading</span></span><br><span class="line">    loading.close()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 因为同一页面请求不止一个 所以为了解决每次请求启动一个loading的bug 所以 解决方案如下</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//那么 showFullScreenLoading() tryHideFullScreenLoading() 要干的事儿就是将同一时刻的请求合并。</span></span><br><span class="line"><span class="comment">//声明一个变量 needLoadingRequestCount，每次调用showFullScreenLoading方法 needLoadingRequestCount + 1。</span></span><br><span class="line"><span class="comment">//调用tryHideFullScreenLoading()方法，needLoadingRequestCount - 1。needLoadingRequestCount为 0 时，结束 loading。</span></span><br><span class="line"><span class="keyword">let</span> needLoadingRequestCount = <span class="number">0</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">showFullScreenLoading</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (needLoadingRequestCount === <span class="number">0</span>) &#123;</span><br><span class="line">        startLoading()</span><br><span class="line">    &#125;</span><br><span class="line">    needLoadingRequestCount++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">tryHideFullScreenLoading</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (needLoadingRequestCount &lt;= <span class="number">0</span>) <span class="keyword">return</span></span><br><span class="line">    needLoadingRequestCount--</span><br><span class="line">    <span class="keyword">if</span> (needLoadingRequestCount === <span class="number">0</span>) &#123;</span><br><span class="line">        endLoading()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//http request 拦截器</span></span><br><span class="line">axios.interceptors.request.use(</span><br><span class="line">    config =&gt; &#123;</span><br><span class="line">        <span class="keyword">var</span> token = <span class="string">''</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> Cookies.get(<span class="string">'user'</span>) === <span class="string">'undefined'</span>)&#123;</span><br><span class="line">            <span class="comment">//此时为空</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            token = <span class="built_in">JSON</span>.parse(Cookies.get(<span class="string">'user'</span>)).token</span><br><span class="line">        &#125;<span class="comment">//注意使用的时候需要引入cookie方法，推荐js-cookie</span></span><br><span class="line">        config.data = <span class="built_in">JSON</span>.stringify(config.data);</span><br><span class="line">        config.headers = &#123;</span><br><span class="line">            <span class="string">'Content-Type'</span>:<span class="string">'application/json'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(token != <span class="string">''</span>)&#123;</span><br><span class="line">          config.headers.token = token;</span><br><span class="line">        &#125;</span><br><span class="line">        showFullScreenLoading() <span class="comment">// 使用定义方法</span></span><br><span class="line">        <span class="keyword">return</span> config;</span><br><span class="line">    &#125;,</span><br><span class="line">    error =&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(err);</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">//http response 拦截器</span></span><br><span class="line">axios.interceptors.response.use(</span><br><span class="line">    response =&gt; &#123;</span><br><span class="line">        <span class="comment">//当返回信息为未登录或者登录失效的时候重定向为登录页面</span></span><br><span class="line">        <span class="keyword">if</span>(response.data.code == <span class="string">'W_100004'</span> || response.data.message == <span class="string">'用户未登录或登录超时，请登录！'</span>)&#123;</span><br><span class="line">            router.push(&#123;</span><br><span class="line">                path:<span class="string">"/"</span>,</span><br><span class="line">                querry:&#123;<span class="attr">redirect</span>:router.currentRoute.fullPath&#125;<span class="comment">//从哪个页面跳转</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        tryHideFullScreenLoading() <span class="comment">// 使用定义方法</span></span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;,</span><br><span class="line">    error =&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="项目文件-可视化大小"><a href="#项目文件-可视化大小" class="headerlink" title="项目文件 可视化大小"></a>项目文件 可视化大小</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">首先 </span><br><span class="line">npm install --save-dev webpack-bundle-analyzer</span><br><span class="line">然后运行 </span><br><span class="line">npm run build --report  // 命令会自动打包，并弹出网页（包含打包文件图）</span><br></pre></td></tr></table></figure>



<h3 id="vue-自定义指令-1"><a href="#vue-自定义指令-1" class="headerlink" title="vue 自定义指令"></a>vue 自定义指令</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注册一个全局自定义指令 `v-focus`</span></span><br><span class="line">Vue.directive(<span class="string">'focus'</span>, &#123;</span><br><span class="line">  <span class="comment">// 当被绑定的元素插入到 DOM 中时……</span></span><br><span class="line">  inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 聚焦元素</span></span><br><span class="line">    el.focus()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


    </div>

    
        <hr class="fhr">
        <div id="vcomments"></div>
    
</div>
    <div class="footer" id="footer">
    <p><h4>Copyright © 2020 | Author: 一个柯子</h4>
    <label class="el-switch el-switch-blue el-switch-sm" style="vertical-align: sub;">
        <input type="checkbox" name="switch" id="update_style">
        <span class="el-switch-style"></span>
    </label>
    <!--         <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
    document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script> -->
</p>
</div>
<input type="hidden" id="web_style" value="light">
<input type="hidden" id="valine_appid" value="0EKVgBJuHyVyuGG5iSIHCQd9-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="dlbWEr4FwleqEhhcakUeTD5p">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>

<style type="text/css">
.v * {
color: #698fca;
}
.v .vlist .vcard .vhead .vsys {
color: #3a3e4a;
}
.v .vlist .vcard .vh .vmeta .vat {
color: #638fd5;
}
.v .vlist .vcard .vhead .vnick {
color: #6ba1ff;
}
.v a {
color: #8696b1;
}
.v .vlist .vcard .vhead .vnick:hover {
color: #669bfc;
}
</style>
    <script type="text/javascript" color="173,174,173" opacity='1' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</body>
</html>
